<div class="row">
  <ng-container *ngIf='order;else loadingOrder'>
    <div class="col-12 col-md-6 text-center">
      <h6>Type : {{ order.type }}</h6>
      <h6>Guests : {{ order.guests }}</h6>
      <h6 *ngIf='order.table'>Table : {{ order.table }}</h6>
      <h6>Waiter : {{ order.waiter }}</h6>
      <h5>Current total {{ order.total | currency }}</h5>
    </div>
    <div class="col-12 col-md-6" *ngIf='order'>
      <ng-container *ngIf='products;else loadingProducts'>
        <ng-container *ngIf='products?.length;else noProducts'>
          <table mat-table [dataSource]="products">
            <!-- name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef> Name </th>
              <td mat-cell *matCellDef="let row"> {{row?.name}} </td>
            </ng-container>

            <!-- price Column -->
            <ng-container matColumnDef="price">
              <th mat-header-cell *matHeaderCellDef> Price </th>
              <td mat-cell *matCellDef="let row"> {{row?.price | currency }} </td>
            </ng-container>

            <!-- amount Column -->
            <ng-container matColumnDef="amount">
              <th mat-header-cell *matHeaderCellDef>Amount </th>
              <td mat-cell *matCellDef="let row"> {{row?.amount}} </td>
            </ng-container>

            <!-- total Column -->
            <ng-container matColumnDef="total">
              <th mat-header-cell *matHeaderCellDef> Total </th>
              <td mat-cell *matCellDef="let row"> {{ (row.price * row.amount ) | currency}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;">
            </tr>
          </table>
        </ng-container>
        <ng-template #noProducts>
          <h3 class='text-center' *ngIf='!products?.length'>No products added yet!</h3>
        </ng-template>
      </ng-container>
      <ng-template #loadingProducts>
        <mat-spinner class='mx-auto'></mat-spinner>
      </ng-template>
    </div>
  </ng-container>
  <ng-template #loadingOrder>
    <div class="col-12 mx-auto">
      <mat-spinner></mat-spinner>
    </div>
  </ng-template>
</div>